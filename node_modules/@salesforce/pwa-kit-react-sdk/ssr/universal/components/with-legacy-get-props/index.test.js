"use strict";

var _index = require("./index");
var _react = require("@testing-library/react");
var _react2 = _interopRequireDefault(require("react"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
/*
 * Copyright (c) 2022, Salesforce, Inc.
 * All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause
 */

describe('withLegacyGetProps', function () {
  test('Renders correctly', () => {
    const Wrapped = () => /*#__PURE__*/_react2.default.createElement("p", null, "Hello world");
    const Component = (0, _index.withLegacyGetProps)(Wrapped);
    (0, _react.render)( /*#__PURE__*/_react2.default.createElement(Component, {
      locals: {}
    }));
    expect(_react.screen.getByText(/Hello world/i)).toBeInTheDocument();
  });
  test(`Has working getInitializers method`, () => {
    expect((0, _index.withLegacyGetProps)({}).getInitializers()).toHaveLength(1);
    expect((0, _index.withLegacyGetProps)({
      getInitializers: () => ['xyz']
    }).getInitializers()).toHaveLength(2);
  });
  test(`Has working getHOCsInUse method`, () => {
    expect((0, _index.withLegacyGetProps)({}).getHOCsInUse()).toHaveLength(1);
    expect((0, _index.withLegacyGetProps)({
      getHOCsInUse: () => ['xyz']
    }).getHOCsInUse()).toHaveLength(2);
  });
});