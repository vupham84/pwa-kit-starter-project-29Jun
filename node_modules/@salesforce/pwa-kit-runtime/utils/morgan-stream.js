"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.morganStream = void 0;
var _stream = require("stream");
var _loggerInstance = _interopRequireDefault(require("./logger-instance"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
/*
 * Copyright (c) 2022, salesforce.com, inc.
 * All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause
 */

/**
 * @private
 * A stream that uses logger to write log lines
 */
class ConsoleLogStream extends _stream.Writable {
  write(line) {
    _loggerInstance.default.info(line);
  }
}
// create new stream to be used in morgan stream
let morganStream = exports.morganStream = new ConsoleLogStream();
_loggerInstance.default.warn('[DEPRECATION] morganStream is deprecated and will be removed in future versions. Use the logger instance directly.');