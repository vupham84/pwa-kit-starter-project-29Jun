"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[215],{1312:(e,a,s)=>{s.d(a,{A:()=>o});var t=s(34692),r=s(2088);function o({form:{control:e,formState:{errors:a}},prefix:s=""}){const{formatMessage:o}=(0,t.A)();return{currentPassword:{name:`${s}currentPassword`,label:o({defaultMessage:[{type:0,value:"Current Password"}],id:"use_update_password_fields.label.current_password"}),defaultValue:"",type:"password",autoComplete:"current-password",rules:{required:o({defaultMessage:[{type:0,value:"Please enter your password."}],id:"use_update_password_fields.error.required_password"})},error:a[`${s}currentPassword`],control:e},password:{name:`${s}password`,label:o({defaultMessage:[{type:0,value:"New Password"}],id:"use_update_password_fields.label.new_password"}),type:"password",autoComplete:"new-password",defaultValue:"",rules:{required:o({defaultMessage:[{type:0,value:"Please provide a new password."}],id:"use_update_password_fields.error.required_new_password"}),validate:{hasMinChars:e=>(0,r.O)(e).hasMinChars||o({defaultMessage:[{type:0,value:"Password must contain at least 8 characters."}],id:"use_update_password_fields.error.minimum_characters"}),hasUppercase:e=>(0,r.O)(e).hasUppercase||o({defaultMessage:[{type:0,value:"Password must contain at least one uppercase letter."}],id:"use_update_password_fields.error.uppercase_letter"}),hasLowercase:e=>(0,r.O)(e).hasLowercase||o({defaultMessage:[{type:0,value:"Password must contain at least one lowercase letter."}],id:"use_update_password_fields.error.lowercase_letter"}),hasNumber:e=>(0,r.O)(e).hasNumber||o({defaultMessage:[{type:0,value:"Password must contain at least one number."}],id:"use_update_password_fields.error.contain_number"}),hasSpecialChar:e=>(0,r.O)(e).hasSpecialChar||o({defaultMessage:[{type:0,value:"Password must contain at least one special character."}],id:"use_update_password_fields.error.special_character"})}},error:a[`${s}password`],control:e}}}},77931:(e,a,s)=>{s.r(a),s.d(a,{default:()=>N});var t=s(28407),r=s(77810),o=s(34692),n=s(75826),d=s.n(n),l=s(59146),p=s(69290),i=s(49785),u=s(17364),c=s(66812),m=s(64965),w=s(41863),g=s(65958),_=s(21052),f=s(34466),h=s(28137),y=s(62345),E=s(89891),v=s(54666),b=s(1312),A=s(55855),P=s(84470),S=s(66322);const M=()=>{var e;const a=(0,i.mN)(),{formatMessage:s}=(0,o.A)(),{search:n}=(0,m.zy)(),d=(0,P.A)(),l=new URLSearchParams(n),u=decodeURIComponent(l.get("email")),c=decodeURIComponent(l.get("token")),M=(0,b.A)({form:a}),C=a.watch("password"),{resetPassword:L}=(0,A.e)(),R=function(){var e=(0,t.A)(function*(e){a.clearErrors();try{yield L({email:u,token:c,newPassword:e.password}),d("/login")}catch(e){var t;const r=yield null===(t=e.response)||void 0===t?void 0:t.json(),o=S.Fn.test(r.message)?s(S.jk):s(S.gS);a.setError("global",{type:"manual",message:o})}});return function(a){return e.apply(this,arguments)}}();return r.createElement(g.B,{justify:"center",align:"center",spacing:6},r.createElement(y.FQ,{width:"60px",height:"auto"}),r.createElement(g.B,{spacing:2},r.createElement(_.E,{align:"center",fontSize:"xl",fontWeight:"semibold"},r.createElement(w.A,{defaultMessage:[{type:0,value:"Reset Password"}],id:"reset_password_form.title.reset_password"}))),r.createElement(p.m,{variant:"form"},r.createElement("form",{onSubmit:a.handleSubmit(R)},r.createElement(g.B,{spacing:6,paddingLeft:4,paddingRight:4},(null===(e=a.formState.errors)||void 0===e?void 0:e.global)&&r.createElement(f.F,{"data-testid":"password-update-error",status:"error"},r.createElement(y._0,{color:"red.500",boxSize:4}),r.createElement(_.E,{fontSize:"sm",ml:3},a.formState.errors.global.message)),r.createElement(g.B,{spacing:3,pb:2},r.createElement(E.A,M.password),r.createElement(v.A,{value:C})),r.createElement(h.$,{type:"submit",isLoading:a.formState.isSubmitting},r.createElement(w.A,{defaultMessage:[{type:0,value:"Reset Password"}],id:"reset_password_form.button.reset_password"}))))))};M.getTemplateName=()=>"reset-password-landing",M.propTypes={token:d().string};const C=M;var L=s(72105);const R=()=>{const{formatMessage:e}=(0,o.A)(),a=(0,i.mN)(),s=(0,P.A)(),n=(0,L.A)(),{pathname:d}=(0,m.zy)(),{path:w}=(0,m.W5)(),{getPasswordResetToken:g}=(0,A.e)(),_=function(){var s=(0,t.A)(function*({email:s}){try{yield g(s)}catch(s){var t;const r=400===(null===(t=s.response)||void 0===t?void 0:t.status)?e(S.vn):e(S.gS);a.setError("global",{type:"manual",message:r})}});return function(e){return s.apply(this,arguments)}}();return(0,r.useEffect)(()=>{n.sendViewPage(d)},[]),r.createElement(l.a,{"data-testid":"reset-password-page",bg:"gray.50",py:[8,16]},r.createElement(u.A,{title:"Reset password",description:"Reset customer password"}),r.createElement(p.m,{paddingTop:16,width:["100%","407px"],bg:"white",paddingBottom:14,marginTop:8,marginBottom:8,borderRadius:"base"},w===S.Qo?r.createElement(C,null):r.createElement(c.A,{form:a,submitForm:_,clickSignIn:()=>s("/login")})))};R.getTemplateName=()=>"reset-password",R.propTypes={match:d().object};const N=R}}]);